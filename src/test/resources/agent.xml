<?xml version="1.0" encoding="UTF-8" ?>
<agents>
	<agent>
		<name>ResponseTime</name>
		<description>Response time from invocation</description>
		<transformer type="mapping">
			<input-events>
				<event type="InvocationEvent"/>
			</input-events>
			<output-events >
				<event type="ResponseTimeEvent"/>
			</output-events>
			
			<mapping>
				<property id="id" type="Double" generated="true" />
				<property id="timestamp" type="Double" gererated="true" />
				<property id="responseTime" type="Double">InvocationEvent.response.timestamp - InvocationEvent.request.timestamp</property>
			</mapping>
			<!-- 
			query timestamp e id gerados (esper)
			SELECT InvocationEvent.response.timestamp - InvocationEvent.request.timestamp as responseTime
			FROM InvocationEvent
			
			we could use janino (evaluate expression)
			 -->
		</transformer>
	</agent>
	<agent>
		<name>Availability</name>
		<description>Availability from service</description>
		<transformer type="class" classname="br.ufpe.cin.dsoa.ping">
			<input-events>
				<event type="InvocationEvent"/>
			</input-events>
			<output-events >
				<event type="AvailabiltyEvent"/>
			</output-events>
		</transformer>
	</agent>
</agents>

